<form name="CreateForm" bh-submit="$ctrl.submit(CreateForm)" novalidate>

  <div class="modal-header">
    <ol class="headercrumb">
      <li class="static" translate>INDICATORS.INDICATOR_SETTING</li>
      <li class="title">
        <span translate>INDICATORS.HOSPITALIZATION</span>
        <span> - </span>
        <span class="text-primary">{{$ctrl.service.name}} - {{$ctrl.period.hrLabel}}</span>
      </li>
    </ol>
  </div>
  
  <div class="modal-body">
    <div class="row">
      <div class="col-sm-12">
      
        <div class="col-sm-5">
          <bh-fiscal-year-select
            fiscal-id="$ctrl.fiscal_id"
            on-select-fiscal-callback="$ctrl.onSelectFiscalYear(fiscalYear)">
          </bh-fiscal-year-select>

          <bh-period-selection
            fiscal-year-id="$ctrl.fiscal_id"
            period-id="$ctrl.hospitalIndicator.period_id"
            on-select-callback="$ctrl.onSelectPeriod(period)">
          </bh-period-selection>

          <bh-service-select
            required="true"
            service-id="$ctrl.hospitalIndicator.service_id"
            on-select-callback="$ctrl.onSelectService(service)">
          </bh-service-select>
        </div>
        <div class="col-sm-1">

        </div>
        <div class="col-sm-6">
          <bh-input-text 
            label="INDICATORS.DAY_REALIZED" 
            id="day_realized",
            type="number"
            required="true"
            on-change="$ctrl.onInputTextChange(key, value)"
            text-value='$ctrl.hospitalIndicator.day_realized'>
          </bh-input-text>
      
          <bh-input-text 
            label="INDICATORS.BED_NUMBER" 
            id="bed_number",
            type="number"
            required="true"
            on-change="$ctrl.onInputTextChange(key, value)"
            text-value='$ctrl.hospitalIndicator.bed_number'>
          </bh-input-text>

          <bh-input-text 
            label="INDICATORS.DAYS_OF_HOSPITALIZATION" 
            id="daysOfHospitalization",
            type="number"
            required="true"
            on-change="$ctrl.onInputTextChange(key, value)"
            text-value='$ctrl.hospitalIndicator.daysOfHospitalization'>
          </bh-input-text>

          <bh-input-text 
            label="INDICATORS.HOSPITALIZED_PATIENTS" 
            id="hospitalizedPatients",
            type="number"
            required="true"
            on-change="$ctrl.onInputTextChange(key, value)"
            text-value='$ctrl.hospitalIndicator.hospitalizedPatients'>
          </bh-input-text>

          <bh-input-text 
            label="INDICATORS.HOSPITALIZED_PATIENTS_PER_PAY" 
            id="hospitalizedPatientPerDay"
            type="number"
            required="true"
            on-change="$ctrl.onInputTextChange(key, value)"
            text-value='$ctrl.hospitalIndicator.hospitalizedPatientPerDay'>
          </bh-input-text>

          <bh-input-text 
            label="INDICATORS.PATIENTS_DIED" 
            id="PatientsDied"
            type="number"
            required="true"
            on-change="$ctrl.onInputTextChange(key, value)"
            text-value='$ctrl.hospitalIndicator.PatientsDied'>
          </bh-input-text>

          <div class="form-group" ng-class="{ 'has-error' : CreateForm.$submitted && CreateForm.status_id.$invalid }">
            <label class="control-label" for="status_id" translate> INDICATORS.STATUS </label>
              
            <ui-select ng-required='true' 
              ng-class="{'required': true}"
              ng-required="true"
              ng-change="$ctrl.onSelectStatus($select.selected)"
              name="status_id"
              ng-model="$ctrl.selectStatus">
              <ui-select-match>
                <span translate>{{$select.selected.translate_key}}</span>
              </ui-select-match>
              <ui-select-choices repeat="item in ( $ctrl.status | filter: $select.search)">
                <span translate>{{item.translate_key}}</span>
              </ui-select-choices>
            </ui-select>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="modal-footer">
    <button type="button" class="btn btn-default" ng-click="$ctrl.close()" translate>
      FORM.BUTTONS.CLOSE
    </button>
  
    <bh-loading-button loading-state="CreateForm.$loading">
      <span translate>FORM.BUTTONS.SAVE</span>
    </bh-loading-button>
  </div>
  
  </form>
  