<!doctype html>
<html>
  {{> head title="{{translate 'REPORT.CONFIGURABLE_ANALYSIS_REPORT.TITLE' }}" }}
  <body>
    <div style="margin-right: 10%; margin-left: 10%;">
      {{> header}}

      <!-- body -->
      <div class="row">
        <div class="col-xs-12">
          <!-- page title  -->
          <h3 class="text-center text-bold text-uppercase">{{translate 'REPORT.CONFIGURABLE_ANALYSIS_REPORT.TITLE'}}</h3>
          <h4 class="text-center text-uppercase">
            {{translate period.period_start_label}} {{period.start_year}} - {{translate period.period_end_label}} {{period.end_year}}
          </h4>

          {{#each this.type}}
            <table style="width: 100%;" class="table table-striped table-condensed table-report table-bordered">
              <tr>
                <td colspan="6" class="text-uppercase text-bold"> {{translate label}} </td>
              </tr>
              <tr>
                <td colspan="5" class="text-uppercase text-bold"> {{translate 'FORM.LABELS.TOTAL'}}</td>
                <td colspan="6" class="text-uppercase text-bold"> {{debcred total ../currencyId}} </td>
              </tr>              

              {{#each report}}
                <tr class="text-uppercase text-bold">
                  <td width="2%" rowspan="2" width="2%"></td>
                  <td width="56%" rowspan="2" width="98%" colspan="2" class="text-uppercase text-bold"> {{translate label}} </td>
                  <td class="text-center" width="15%"> {{translate 'FORM.LABELS.DEBIT'}} </td>
                  <td class="text-center" width="15%"> {{translate 'FORM.LABELS.CREDIT'}} </td>
                  <td class="text-center" width="15%"> {{translate displayLabel}} </td>                  
                </tr>
                <tr class="text-bold">
                  <td class="text-right"> {{debcred sumDebit ../../currencyId }} </td>
                  <td class="text-right"> {{debcred sumCredit ../../currencyId }} </td>
                  <td class="text-right"> {{debcred sumBalance ../../currencyId }} </td>
                </tr> 
       
                {{#each balance}}
                  <tr>
                    <td></td>
                    <td width="2%"> </td>
                    <td> {{ number }} - {{ label }} </td>
                    <td class="text-right"> {{ debcred debit ../../../currencyId }} </td>
                    <td class="text-right"> {{ debcred credit ../../../currencyId }} </td>
                    <td class="text-right"> {{ debcred balance ../../../currencyId }} </td>
                  </tr>
                {{/each}}
              {{/each}}
            </table>
            <br>
            <br>
          {{/each}}


          {{!-- <h3 class="text-center text-bold text-uppercase">{{ report.cashboxLabel }}</h3>
          <h4 class="text-center text-bold text-uppercase"> {{ report.periodLabel }} </h4> --}}

          {{!-- <table style="width: 25%; float: right; margin-bottom: 1.5%">
            <tr>
              <td width="10%" style="background-color: #5cb85c; color:white; text-align:center"> ✔ </td>
              <td width="90%">&nbsp;<strong>{{translate 'REPORT.ANALYSIS_AUX_CASHBOXES.STATUS.CORRECT'}}</strong></td>
            </tr>
            <tr>
              <td width="10%" style="background-color: #777777; color:white; text-align:center"> X </td>
              <td width="90%">&nbsp;<strong>{{translate 'REPORT.ANALYSIS_AUX_CASHBOXES.STATUS.TRANSFERT_PENDING'}}</strong></td>
            </tr> 
            <tr>
              <td width="10%" style="background-color: #f0ad4e; color:white; text-align:center"> ▲ </td>
              <td width="90%">&nbsp;<strong>{{translate 'REPORT.ANALYSIS_AUX_CASHBOXES.STATUS.TRANSFERT_GREATER'}}</strong></td>
            </tr>
            <tr>
              <td width="10%" style="background-color: #d9534f; color:white; text-align:center"> ▼ </td>
              <td width="90%">&nbsp;<strong>{{translate 'REPORT.ANALYSIS_AUX_CASHBOXES.STATUS.TRANSFERT_LOWWER'}}</strong></td>
            </tr>            
          </table>

          <table style="width: 100%;" class="table table-striped table-condensed table-report table-bordered">
            <thead>
              <th width="10%"> </th>
              <th width="35%" class="text-uppercase" colspan="4"> {{translate 'REPORT.ANALYSIS_AUX_CASHBOXES.AUXILIARY_TRANSFERT'}} </th>
              <th width="35%" class="text-uppercase" colspan="4">{{translate 'REPORT.ANALYSIS_AUX_CASHBOXES.TRANSFER_PRINCIPAL'}}</th>
              <th width="20%" class="text-uppercase" colspan="3">{{translate 'REPORT.ANALYSIS_AUX_CASHBOXES.TARGET'}}</th>
            </thead>
            <tbody>
            <tr>
              <th>{{translate 'FORM.LABELS.DATE'}}</th>
              <th width="9%">{{translate 'FORM.LABELS.DEBIT'}}</th>
              <th width="9%">{{translate 'FORM.LABELS.CREDIT'}}</th>
              <th width="9%">{{translate 'FORM.LABELS.BALANCE'}}</th>
              <th width="2%"></th>

              <th width="9%">{{translate 'FORM.LABELS.DEBIT'}}</th>
              <th width="9%">{{translate 'FORM.LABELS.CREDIT'}}</th>
              <th width="9%">{{translate 'FORM.LABELS.BALANCE'}}</th>
              <th width="2%"></th>

              <th width="21%">{{translate 'FORM.LABELS.LABEL'}}</th>
              <th width="9%">{{translate 'FORM.LABELS.DEBIT'}}</th>
              <th width="2%"></th>
            </tr>

            {{#each this.transactions}}
                <tr>
                  <td>{{date trans_date "DD/MM/YYYY"}}, {{translate transDateDays }} </td>
                  
                  <td class="text-right">{{debcred debit ../report.currencyId}}</td>
                  <td class="text-right">{{debcred credit ../report.currencyId}}</td>
                  <td class="text-right">{{debcred balance ../report.currencyId}}</td>
                  <td style="color:white; background-color: {{ labelDisplay.color }}" class="text-center">
                    {{ labelDisplay.icon }}
                  </td>

                  <td class="text-right">{{debcred debit_transfert ../report.currencyId}}</td>
                  <td class="text-right">{{debcred credit_transfert ../report.currencyId}}</td>
                  <td class="text-right">{{debcred balance_transfert ../report.currencyId}}</td>
                  <td style="color:white; background-color: {{ labelDisplayTransfert.color }}" class="text-center">
                    {{ labelDisplayTransfert.icon }}
                  </td>
                  
                  <td><strong>{{ account_target }}</strong></td>
                  <td class="text-right">{{debcred debit_primary ../report.currencyId}}</td>
                  <td style="color:white; background-color: {{ labelDisplayPrimary.color }};" class="text-center">
                    {{ labelDisplayPrimary.icon }} 
                  </td>
                </tr>
            {{/each}}
            </tbody>
          </table> --}}

        </div>
      </div>
    </div>
  </body>
</html>