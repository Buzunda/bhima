{{> head title="REPORT.STOCK.ENTRY_REPORT" }}

<body class="container-fluid">
  {{> header}}

  <!-- body  -->
  <div class="row">
    <div class="col-xs-12">

      <!-- page title  -->
      <h3 class="text-center">
        {{translate 'REPORT.STOCK.ENTRY_REPORT'}}
      </h3>

      <h2 class="text-center"> {{ depotName }} </h2>

      <h5 class="text-center"> {{date dateFrom}} - {{date dateTo}} </h5>

      <br/>

      <!-- stock entry from purchase -->
      {{#if includePurchaseEntry}}
        <table class="table table-condensed table-report">
          <thead>
            <tr style="background-color: #EFEFEF;">
              <th colspan="3"><h3 style="margin: 0px;">{{translate 'STOCK.RECEIPT.ENTRY_PURCHASE'}}</h3></th>
              <th>{{translate 'STOCK.ENTRY_DATE'}}</th>
              <th class="text-right">{{translate 'STOCK.QUANTITY'}}</th>
              <th>{{translate 'STOCK.INVENTORY_UNIT'}}</th>
            </tr>
          </thead>
          {{#each entryFromPurchase.data as | data |}}
            <thead>
              <tr>
                <th colspan="4">({{data.code}}) {{ data.inventory_name }}</th>
                <th class="text-right">{{ data.inventory_stock_entry_quantity }}</th>
                <th class="text-left">{{ data.inventory_unit }}</i></th>
              </tr>
            </thead>

            {{#if ../showDetails}}
              <tbody>
                {{#each data.inventory_stock_entry_data as | item |}}
                  <tr>
                    <td style="border:none; width: 20%; padding-left: 30px;"><b>{{ document_reference }}</b></td>
                    <td class="text-left" style="border:none; width: 40%;">({{ purchase_reference }}) {{ supplier_display_name }}</td>
                    <td class="text-left" style="border:none; width: 15%">&nbsp;</td>
                    <td style="border:none;">{{date date }}</td>
                    <td class="text-right" style="border:none;">{{ quantity }}</td>
                    <td class="text-left" style="border:none;">{{ unit_text }}</i></td>
                  </tr>
                {{/each}}
              </tbody>
            {{/if}}

          {{/each}}

          <!-- no data -->
          {{#if entryFromPurchase.isEmpty}}
            <tr><th colspan="6" class="text-center">{{translate 'STOCK.NO_DATA'}}</th></tr>
          {{/if}}
        </table>
      {{/if}}

      <br/>

      <!-- stock entry from integration -->
      {{#if includeIntegrationEntry}}
        <table class="table table-condensed table-report">
          <thead>
            <tr style="background-color: #EFEFEF;">
              <th colspan="3"><h3 style="margin: 0px;">{{translate 'STOCK.RECEIPT.ENTRY_INTEGRATION'}}</h3></th>
              <th>{{translate 'STOCK.ENTRY_DATE'}}</th>
              <th class="text-right">{{translate 'STOCK.QUANTITY'}}</th>
              <th>{{translate 'STOCK.INVENTORY_UNIT'}}</th>
            </tr>
          </thead>
          {{#each entryFromIntegration.data as | data |}}
            <thead>
              <tr>
                <th colspan="4">({{data.code}}) {{ data.inventory_name }}</th>
                <th class="text-right">{{ data.inventory_stock_entry_quantity }}</th>
                <th class="text-left">{{ data.inventory_unit }}</i></th>
              </tr>
            </thead>

            {{#if ../showDetails}}
              <tbody>
                {{#each data.inventory_stock_entry_data as | item |}}
                  <tr>
                    <td style="border:none; width: 20%; padding-left: 30px;"><b>{{ document_reference }}</b></td>
                    <td class="text-left" style="border:none; width: 40%;">{{ description }}</td>
                    <td class="text-left" style="border:none; width: 15%">&nbsp;</td>
                    <td style="border:none;">{{date date }}</td>
                    <td class="text-right" style="border:none;">{{ quantity }}</td>
                    <td class="text-left" style="border:none;">{{ unit_text }}</td>
                  </tr>
                {{/each}}
              </tbody>
            {{/if}}

          {{/each}}

          <!-- no data -->
          {{#if entryFromIntegration.isEmpty}}
            <tr><th colspan="6" class="text-center">{{translate 'STOCK.NO_DATA'}}</th></tr>
          {{/if}}
        </table>
      {{/if}}

      <br/>

      <!-- stock entry from donation -->
      {{#if includeDonationEntry}}
        <table class="table table-condensed table-report">
          <thead>
            <tr style="background-color: #EFEFEF;">
              <th colspan="3"><h3 style="margin: 0px;">{{translate 'STOCK.RECEIPT.ENTRY_DONATION'}}</h3></th>
              <th>{{translate 'STOCK.ENTRY_DATE'}}</th>
              <th class="text-right">{{translate 'STOCK.QUANTITY'}}</th>
              <th>{{translate 'STOCK.INVENTORY_UNIT'}}</th>
            </tr>
          </thead>
          {{#each entryFromDonation.data as | data |}}
            <thead>
              <tr>
                <th colspan="4">({{data.code}}) {{ data.inventory_name }}</th>
                <th class="text-right">{{ data.inventory_stock_entry_quantity }}</th>
                <th class="text-left">{{ data.inventory_unit }}</i></th>
              </tr>
            </thead>

            {{#if ../showDetails}}
              <tbody>
                {{#each data.inventory_stock_entry_data as | item |}}
                  <tr>
                    <td style="border:none; width: 20%; padding-left: 30px;"><b>{{ document_reference }}</b></td>
                    <td class="text-left" style="border:none; width: 40%;">{{ description }}</td>
                    <td class="text-left" style="border:none; width: 15%">&nbsp;</td>
                    <td style="border:none;">{{date date }}</td>
                    <td class="text-right" style="border:none;">{{ quantity }}</td>
                    <td class="text-left" style="border:none;">{{ unit_text }}</td>
                  </tr>
                {{/each}}
              </tbody>
            {{/if}}

          {{/each}}

          <!-- no data -->
          {{#if entryFromDonation.isEmpty}}
            <tr><th colspan="6" class="text-center">{{translate 'STOCK.NO_DATA'}}</th></tr>
          {{/if}}
        </table>
      {{/if}}

      <br>

      <!-- stock entry to other depot -->
      {{#if includeTransferEntry}}
        <table class="table table-condensed table-report">
          <thead>
            <tr style="background-color: #EFEFEF;">
              <th colspan="3"><h3 style="margin: 0px;">{{translate 'STOCK.RECEIPT.ENTRY_DEPOT'}}</h3></th>
              <th>{{translate 'STOCK.ENTRY_DATE'}}</th>
              <th class="text-right">{{translate 'STOCK.QUANTITY'}}</th>
              <th>{{translate 'STOCK.INVENTORY_UNIT'}}</th>
            </tr>
          </thead>
          {{#each entryFromTransfer.data as | data |}}
            <thead>
              <tr>
                <th colspan="4">({{data.code}}) {{ data.inventory_name }}</th>
                <th class="text-right">{{ data.inventory_stock_entry_quantity }}</th>
                <th class="text-left">{{ data.inventory_unit }}</i></th>
              </tr>
            </thead>

            {{#if ../showDetails}}
              <tbody>
                {{#each data.inventory_stock_entry_data as | item |}}
                  <tr>
                    <td style="border:none; width: 20%; padding-left: 30px;"><b>{{ document_reference }}</b></td>
                    <td class="text-left" style="border:none;  width: 40%;">{{ depot_name }}</td>
                    <td class="text-left" style="border:none; width: 15%">&nbsp;</td>
                    <td style="border:none;">{{date date }}</td>
                    <td class="text-right" style="border:none;">{{ quantity }}</td>
                    <td class="text-left" style="border:none;">{{ unit_text }}</td>
                  </tr>
                {{/each}}
              </tbody>
            {{/if}}

          {{/each}}

          <!-- no data -->
          {{#if entryFromTransfer.isEmpty}}
            <tr><th colspan="6" class="text-center">{{translate 'STOCK.NO_DATA'}}</th></tr>
          {{/if}}
        </table>
      {{/if}}

    </div>
  </div>
</body>
